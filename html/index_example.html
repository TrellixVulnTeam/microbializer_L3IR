<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Microbializer</title>
        <!--<meta charset="utf-8">-->
        <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->

        <link rel="shortcut icon" type="image/x-icon" href="pics/logo.gif" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css">

        <!--files for the select tag-->
        <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">-->
        <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>-->
        <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/i18n/defaults-*.min.js"></script>-->

        <!--files for the checkbox tag (toggle)-->
        <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>


        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/nav.css">
        <script src="scripts/form_handler.js"></script>

        <!--<link href='https://fonts.googleapis.com/css?family=Kalam' rel='stylesheet'>-->
        <!--<script src="https://code.jquery.com/jquery-1.10.2.js"></script>-->
        <!--<script> $(function(){-->
            <!--$("head").load("header.html");-->
            <!--$('#loadingMask').fadeOut();});-->
        <!--</script>-->

        <!--for hiding the advanced options by default-->
    </head>
    <body>
        <nav role="navigation" class="navbar navbar-inverse navbar-fixed-top" id="nav">
            <div class="jumbotron" id="jumbo">
                <div class="container">
                    <div class="row" id="title-row" align="center">
                        <div class="col-md-1">
                        </div>
                        <div class="col-md-10">
                            <span id="server-title">M1CR0B1AL1Z3R</span>
                            <img src="pics/logo.gif" id="nav_bar_image" class="img-rounded">
                            <br><span id="sub-title">A web server for analyzing bacterial genomics data. Easily.</span>
                        </div>
                        <!--<div class="col-md-1">-->
                            <!---->
                        <!--</div>-->
                    </div>
                </div>
            </div>
            <div class="container" id="nav_container">
                <div class="row">
                    <div class="col-md-1">
                    </div>
                    <div class="col-md-10">
                        <ul class="nav navbar-nav" id="menu-nav">
                            <li class="active">
                                <a href="index.html">Home</a>
                            </li>
                            <li>
                                <a href="overview.html">Overview</a>
                            </li>
                            <li>
                                <a href="gallery.html">Gallery</a>
                            </li>
                            <li>
                                <a href="faq.html">FAQ</a>
                            </li>
                            <li>
                                <a href="terms.html">Terms of Use</a>
                            </li>
                            <li>
                                <a href="credits.html">Credits</a>
                            </li>
                            <li style="float: right">
                                <a href="https://english.tau.ac.il/" id="tau-link" target="_blank">
                                    <img src=pics/TAU_LOGO.png id="tau-logo">
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
        <div id="behind-nav-bar">
        </div>
        <div class="container" id="basic">
            <div class="row">
                <div class="col-md-1">
                </div>
                <div class="col-md-10">

                    <form id="microbializer_form" action="https://microbializer.tau.ac.il/cgi-bin/microbializer_cgi.py" method="post" ENCTYPE="multipart/form-data" target="_blank">
                        <div class="container">
                            <input type="hidden" name="example_page" value="yes">
                            <!--<center><img src=pics/under_construction.png id="under-construction"></center><br>-->
                            <!--<h2><center><span>UNDER CONSTRUCTION!</span></center></h2>-->

                            <div class="form-group">
                                <b>Example data</b>
                                <label class="btn btn-default btn-file">
                                    <a href="example_data.zip" target="_blank">10 <i>E. coli</i> dataset</a>
                                </label>
                            </div>
                            <div class="form-group row">
                                <div class="col-md-4">
                                    <label for="email">Email:</label>
                                    <input type="email" class="form-control" id="email" name="email" placeholder="We'll send you a link to the results" required>
                                    <input class="form-control" name="confirm_email" type="hidden">
                                </div>
                                <div class="col-md-4">
                                    <label for="job_title">A descriptive job title (optional):</label>
                                    <input type="text" class="form-control" id="job_title" name="job_title" value="Example dataset" readonly>
                                </div>
                            </div>
                            <br>
                            <button type="button" class="btn btn-warning" id="advanced_button" onclick="openAdvanced()"><span class="glyphicon glyphicon-cog"></span>&nbsp; Advanced options</button>
                            <div id="advanced" style="display:none;">
                                <div class="form-group row">
                                    <div class="col-md-8">
                                        <label for="e_value_cutoff">Maximal permitted e-value:
                                        <button type="button" class="btn btn-lg" data-toggle="modal" data-target="#info4">
                                            <span class="glyphicon glyphicon-question-sign"></span>
                                        </button>
                                        </label>
                                        <input type="number" class="form-control" min="0" max="1" step="any" id="e_value_cutoff" name="e_value_cutoff" value="0.01" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-8">
                                        <label for="identity_cutoff">Minimal percent of identity:
                                        <button type="button" class="btn btn-lg" data-toggle="modal" data-target="#info3">
                                            <span class="glyphicon glyphicon-question-sign"></span>
                                        </button></label>
                                        <input type="number" class="form-control" min="0" max="100" step="any" id="identity_cutoff" name="identity_cutoff" value="80" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-8">
                                        <label for="core_minimal_percentage">Minimal percent of members to be considered as a core gene:
                                        <button type="button" class="btn btn-lg" data-toggle="modal" data-target="#info2">
                                            <span class="glyphicon glyphicon-question-sign"></span>
                                        </button>
                                        </label>
                                        <input type="number" class="form-control" min="0" max="100" step="any" id="core_minimal_percentage" name="core_minimal_percentage" value="100.0" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-8">
                                        <label for="outgroup">Root the species tree according to this outgroup:
                                        <button type="button" class="btn btn-lg" data-toggle="modal" data-target="#info1">
                                            <span class="glyphicon glyphicon-question-sign"></span>
                                        </button>
                                        </label>
                                        <input class="form-control" id="outgroup" name="outgroup" value="Efergusonii_ATCC_35469" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-8">
                                        <br>
                                        <label for="bootstrap">Apply bootstrap over the species tree?
                                        <button type="button" class="btn btn-lg" data-toggle="modal" data-target="#info6">
                                            <span class="glyphicon glyphicon-question-sign"></span>
                                        </button>
                                            <label class="radio-inline"><input type="radio" name="bootstrap" value="yes" checked>Yes</label>
                                            <label class="radio-inline"><input type="radio" name="bootstrap" id="bootstrap" value="no" disabled>No</label>
                                        </label>
                                    </div>
                                </div>
                            </div>
                           <!-- Modals -->
                            <div class="modal fade" id="info1" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <div class="modal-title">A species name based on which the tree should be rooted</div>
                                        </div>
                                        <div class="modal-body"> <!--align="justify">-->
                                            For example, if the genomic sequence in a file named: "Efergusonii_ATCC_35469.fna" is the desired outgroup, than "Efergusonii_ATCC_35469" should be provided.
                                            Of note, the outgroup name is CASE-SENSITIVE and thus should IDENTICAL to the corresponding genomic file name (excluding its extension), otherwise, the outgroup will be ignored and the resulted tree will be unrooted (as if no outgroup was provided).
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade" id="info2" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <div class="modal-title">The minimum required percent of gene members of an orthologs group that is required to be considered a core gene</div>
                                        </div>
                                        <div class="modal-body">
                                            For example:<br>
                                            (1) 100 means that for a gene to be considered core, all strains should have a member in the group.<br>
                                            (2) 50 means that for a gene to be considered core, at least half of the strains should have a member in the group.<br>
                                            (3) 0 means that every gene should be considered as a core gene.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade" id="info3" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <div class="modal-title">The minimum percent of identity required for a pair of best reciprocal hits</div>
                                        </div>
                                        <div class="modal-body">
                                            For example:<br>
                                            If the cutoff is set to 80, every best reciprocal hit pair with less than 80% identity will be filtered out.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade" id="info4" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <div class="modal-title">The maxmimum permitted e-value for a pair of best reciprocal hits</div>
                                        </div>
                                        <div class="modal-body">
                                            For example:<br>
                                            If the cutoff is set to 0.01, every best reciprocal hit pair with greater e-value will be filtered out.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade" id="info6" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <div class="modal-title">Bootstrap procedure</div>
                                        </div>
                                        <div class="modal-body">
                                            If marked "Yes", 100 bootstrap iterations will be applied over the data set. In any case, no bootstrap will be applied for a data set with more than 100 genomes as bootstrap over large data, even when being parallelized into a few threads, might take hundreds of hours. If you do need to run bootstrap for larger data sets, please contact us directly and we will try to assist, per request.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-cloud-upload"></span>&nbsp; Submit</button>
                            <!--<a href="index.html"><button type="button" class="btn btn-info">Clear Example</button></a>-->
                            <a href="index.html"><button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span>&nbsp; Clear Example</button></a>
                            <br><br><br>
                        </div>


                    </form>
                </div>
            </div>
        </div>


        <nav role="navigation" class="navbar-inverse navbar-fixed-bottom ng-binding">
            <h4>Research Site | <a href="https://www.tau.ac.il/~talp/" target="_blank">Pupko Group</a></h4>
        </nav>
    </body>
</html>
